"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([[390],{594:(e,t,s)=>{s.d(t,{F:()=>n});const n="fashion"},760:(e,t,s)=>{s.d(t,{D:()=>n});const n=(0,s(390).lazy)((()=>s.e(488).then(s.bind(s,488))))},897:(e,t,s)=>{s.d(t,{q:()=>qe});var n=s(85),a=s(390);const r=s.p+"369a1089341c7c6bdc7b.png",i=s.p+"737ce3abaf159ce563df.png",c=s.p+"0f0d0435c27f5eb2a7ee.png",l=s.p+"87a55585c52c423f1036.png",o=s.p+"222f10281e0760754596.png",d=[{title:"clothes",links:[{href:"#",text:"Розпродаж",icon:s.p+"3d347db69995b8a775d8.png"},{href:"#",text:"Футболки",icon:c},{href:"#",text:"Худі",icon:r},{href:"#",text:"Світшоти",icon:o},{href:"#",text:"Штани",icon:i},{href:"#",text:"Сорочки",icon:l}]}],u={catalog:"i9Sx4qAq",category__item:"yOxGJrco",category__item_content:"taPYgWOl",category__item_img:"iGpg_k_T",category__item_text:"QtvZrR2g"},m=()=>(0,n.jsx)("div",{className:u.catalog,children:(0,n.jsx)("ul",{className:u.catalog__category,children:d[0].links.map((e=>(0,n.jsx)("li",{className:u.category__item,children:(0,n.jsxs)("span",{className:u.category__item_content,children:[(0,n.jsx)("img",{className:u.category__item_img,src:e.icon,alt:e.text}),e.text]})},e.href)))})}),h=[{id:1,title:"action_1",bannerSrc:s.p+"225e0258708741597e1b.webp"},{id:2,title:"action_2",bannerSrc:s.p+"5a1d321559540e6882b5.webp"},{id:3,title:"action_3",bannerSrc:s.p+"b6c1a2bd8c86bf0d5422.webp"}],x=s.p+"433c62c89c0bd55deb6a.png",p=({rotate:e="0deg",left:t="0",visible:s,onClick:a})=>(0,n.jsx)("button",{className:"EELQZnrc "+(s?"JN4eaEEw":""),style:{transform:`rotate(${e})`,left:`${t}`},onClick:a,children:(0,n.jsx)("img",{src:x,alt:"arrow in circle",className:"EYYqrW8M"})}),f=()=>{const e=(0,a.useRef)(),t=(0,a.useRef)(),[s,r]=(0,a.useState)(0),[i,c]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{let s;const n=setTimeout((()=>{if(t.current&&e.current){const n=t.current.offsetWidth;r(n);const a=n*h.length;s=setInterval((()=>{e.current&&(e.current.scrollLeft+n>=a?e.current.scrollTo({left:0,behavior:"smooth"}):e.current.scrollBy({left:n,behavior:"smooth"}))}),4e3)}}),100);return()=>{clearTimeout(n),s&&clearInterval(s)}}),[]),(0,a.useEffect)((()=>{const e=()=>{t.current&&r(t.current.offsetWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,n.jsxs)("div",{className:"dnQwumLu",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[(0,n.jsx)("div",{className:"bEKkZTcG",ref:e,children:h.map(((e,s)=>(0,n.jsx)("div",{className:"M5rxGIoM",ref:0===s?t:null,children:(0,n.jsx)("img",{src:e.bannerSrc,alt:e.title,className:"CSVqugCh",onLoad:()=>{0===s&&t.current&&r(t.current.offsetWidth)}})},e.id)))}),(0,n.jsx)(p,{visible:i,onClick:()=>{e.current&&s>0&&e.current.scrollBy({left:-s,behavior:"smooth"})},rotate:"180deg",left:"12px"}),(0,n.jsx)(p,{visible:i,onClick:()=>{e.current&&s>0&&e.current.scrollBy({left:s,behavior:"smooth"})},rotate:"0deg",left:"calc(100% - 44px)"})]})},j=()=>(0,n.jsx)("div",{className:"TfQTtVHX",children:(0,n.jsxs)("div",{className:"MPbxu5Dn",children:[(0,n.jsx)(m,{}),(0,n.jsx)(f,{})]})}),v="L2AapYww",g=()=>(0,n.jsx)("div",{className:"rRgUF_l9",children:(0,n.jsxs)("div",{className:"l3BGxi_x",children:[(0,n.jsx)("div",{className:v}),(0,n.jsx)("div",{className:v}),(0,n.jsx)("div",{className:v}),(0,n.jsx)("a",{className:"JJPoWWC0",href:"https://googlebume.github.io/online-fashion-constructor/",children:"Створи унікальний принт!"}),(0,n.jsx)("div",{className:v})]})}),N=({listTitle:e,nameAttr:t,lis:s,getCategoriesValue:a})=>(0,n.jsxs)("div",{className:"FLIstkfr",children:[(0,n.jsx)("h3",{className:"VD9ntZ_m",children:e}),(0,n.jsx)("div",{className:"unKnCMzW",children:s.map((e=>(0,n.jsxs)("div",{className:"xDzZXkmM",children:[(0,n.jsx)("input",{type:"checkbox",className:"EzoU5L8g",name:t,value:e.valueAttr,id:`${e.valueAttr}_${e.id}`,onChange:e=>a({value:e.target.value,checked:e.target.checked})}),(0,n.jsx)("label",{htmlFor:`${e.valueAttr}_${e.id}`,className:"KV1qOGVx",children:e.categoryName})]},e.id)))})]}),b=[{listTitle:"Категорія",nameAttr:"category",lis:[{id:1,categoryName:"Чоловіче",valueAttr:"male"},{id:2,categoryName:"Жіноче",valueAttr:"female"}]},{listTitle:"Вид",nameAttr:"type",lis:[{id:1,categoryName:"Футболки",valueAttr:"tshirt",link:""},{id:2,categoryName:"Худі",valueAttr:"hoodie",link:""},{id:3,categoryName:"Світшоти",valueAttr:"sweatshirt",link:""},{id:4,categoryName:"Сорочки",valueAttr:"shirt",link:""}]}];let y=[],S=[],w=[];const C=e=>{y=[...e],console.log("✅ Категорії оновлені:",...y),S.forEach((e=>e(y)))},_=()=>y;let k=[];const E=e=>{k=[...e],console.log("✅ Кольори оновлені:",...k),w.forEach((e=>e(k)))},A=()=>{const[e,t]=(0,a.useState)([]);function s({value:s,checked:n}){const a=n?[...e,s]:e.filter((e=>e!==s));t(a),C(a)}return(0,n.jsx)(n.Fragment,{children:b.map((e=>(0,n.jsx)(N,{listTitle:e.listTitle,nameAttr:e.nameAttr,lis:e.lis,getCategoriesValue:s},e.nameAttr)))})},T={price__widget:"tztbT5HK",filters__title:"NJ3Cpi8N"},P=({placeholder:e,value:t,onChange:s})=>(0,n.jsxs)("div",{className:"zCIvAYWV",children:[(0,n.jsxs)("div",{className:"MVksEMca",children:[" ",e," "]}),(0,n.jsx)("input",{type:"number",value:t,min:100,max:5e3,onChange:s,className:"awRBpaKL"})]}),O=({text:e,onClick:t})=>(0,n.jsx)("button",{className:"bGjy25Fp",onClick:t,children:e}),I=({minInRange:e,maxInRange:t,setMinPrice:s,setMaxPrice:a,minValue:r,maxValue:i})=>{const c=(r-e)/(t-e)*100,l=(i-e)/(t-e)*100;return(0,n.jsxs)("div",{className:"dOLSEXGS",children:[(0,n.jsx)("input",{type:"range",className:"E9sgu3Ki",min:e,max:t,value:r,onChange:e=>s(Math.min(Number(e.target.value)))}),(0,n.jsx)("input",{type:"range",className:"AWjj2bzD",min:e,max:t,value:i,onChange:e=>a(Math.max(Number(e.target.value)))}),(0,n.jsx)("div",{className:"rnN3TZAV",children:(0,n.jsx)("div",{className:"DPvcShFn",style:{left:`${c}%`,right:100-l+"%"}})})]})},L=({setSelectedPriceRange:e})=>{const[t,s]=(0,a.useState)(100),[r,i]=(0,a.useState)(5e3),c=e=>{s(e)},l=e=>{i(e)};return(0,a.useEffect)((()=>{if(t>r){const e=t;s(r),i(e)}}),[t,r]),(0,n.jsxs)("div",{className:T.price__widget,children:[(0,n.jsx)("h3",{className:T.filters__title,children:"Ціна"}),(0,n.jsxs)("div",{className:T.price__inputs,children:[(0,n.jsx)(P,{placeholder:"Від",onChange:e=>c(Number(e.target.value)),value:t}),(0,n.jsx)(P,{placeholder:"До",onChange:e=>l(Number(e.target.value)),value:r}),(0,n.jsx)(O,{text:"Ок",onClick:()=>{e({minPrice:t,maxPrice:r})}})]}),(0,n.jsx)(I,{minInRange:100,maxInRange:5e3,setMinPrice:c,setMaxPrice:l,minValue:t,maxValue:r})]})},M=[{id:"1",name:"Жовтий",color:"#ffbe0b",colorTxt:"yellow"},{id:"2",name:"Чорний",color:"#151a1f",colorTxt:"black"},{id:"3",name:"Білий",color:"white",colorTxt:"white"},{id:"4",name:"Рожевий",color:"palevioletred",colorTxt:"pink"},{id:"5",name:"Коричневий",color:"rgb(133, 75, 37)",colorTxt:"brown"},{id:"6",name:"Синій",color:"rgb(47, 136, 163)",colorTxt:"blue"}],V={color__checkbox:"wADM_K1g",color__ditch:"i8CNpfjD",ditch__shade:"IT0xFQlq"},F=({name:e,color:t,colorTxt:s,id:a,getColorsValue:r})=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"checkbox",className:V.color__checkbox,value:s,id:`ditch_${a}`,onChange:e=>r({value:e.target.value,checked:e.target.checked})}),(0,n.jsxs)("label",{className:V.color__ditch,htmlFor:`ditch_${a}`,children:[(0,n.jsx)("div",{className:V.ditch__shade,style:{backgroundColor:`${t}`},children:" "}),(0,n.jsx)("span",{className:V.ditch__name,children:e})]})]}),R={filters__title:"OZDHUssP",colors__palette:"WNsjHoPE"},B=()=>{const[e,t]=(0,a.useState)([]);function s({value:s,checked:n}){const a=n?[...e,s]:e.filter((e=>e!==s));t(a),E(a)}return(0,n.jsxs)("div",{className:R.colors__group,children:[(0,n.jsx)("h3",{className:R.filters__title,children:"Кольори"}),(0,n.jsx)("div",{className:R.colors__palette,children:M.map((e=>(0,n.jsx)(F,{name:e.name,color:e.color,colorTxt:e.colorTxt,id:e.id,getColorsValue:s})))})]})};let D=[];const W=e=>{D=[...e],console.log("✅ Дані збережено в `products`:",D)},Z=()=>(console.log("📢 Отримання всіх продуктів:",D),D);let q=[],z=[];const G=e=>{q=[...e],console.log("✅ Фільтровані продукти збережено:",q),z.forEach((e=>e(q)))},Y=()=>q,$=()=>{const[e,t]=(0,a.useState)(Z()),[s,r]=(0,a.useState)(_()),[i,c]=(0,a.useState)(k),[l,o]=(0,a.useState)(void 0);return(0,a.useEffect)((()=>{const e=(t=r,S.push(t),()=>{S=S.filter((e=>e!==t))});var t;const s=(e=>(w.push(e),()=>{w=w.filter((t=>t!==e))}))(c);return()=>{e(),s()}}),[]),(0,a.useEffect)((()=>{if(0===e.length)return;const t=function(){let t=[...e];return s.length>0&&(t=t.filter((e=>s.includes(e.attributes.category)||s.includes(e.attributes.type)))),i.length>0&&(t=t.filter((e=>i.includes(e.attributes.color)))),l&&(t=t.filter((e=>e.price>=l.minPrice&&e.price<=l.maxPrice))),t}();G(t)}),[e,s,i,l]),(0,n.jsxs)("aside",{className:"eSyCOyH2",children:[(0,n.jsx)(A,{}),(0,n.jsx)(L,{setSelectedPriceRange:o}),(0,n.jsx)(B,{})]})};var J=s(469);const H=({img:e,onClick:t,width:s})=>(0,n.jsx)("button",{className:"FdE8qlus",onClick:t,style:{maxWidth:s},children:(0,n.jsx)("img",{src:e,alt:"Button",className:"zjVb0Te7"})}),Q=s.p+"734377ded6696e1d29a7.png",X=({discountT:e,priceT:t,direction:s})=>{const a={flexDirection:s||"column"},r=+e*+t/100,i=Math.round(+t-+r);return(0,n.jsxs)("div",{className:"taJhZyL5",style:a,children:[(0,n.jsx)("span",{className:"fFAWrX2I",children:i}),(0,n.jsx)("span",{className:"Kp9qc4z1",children:t})]})},K=({discount:e})=>(0,n.jsx)("div",{className:"Slhw4gAj",children:(0,n.jsxs)("span",{className:"dGCnS_4H",children:["-",e,"%"]})});let U=[],ee=[];const te=e=>(ee.push(e),()=>{ee=ee.filter((t=>t!==e))}),se=()=>{ee.forEach((e=>e()))},ne=(e,t)=>{if(t<1)return;const s=U.findIndex((t=>t.name===e));s>=0&&(U[s].quantity=t,se())},ae=()=>[...U],re=()=>U.reduce(((e,t)=>e+(e=>(e.discount?e.price*(1-e.discount/100):e.price)*e.quantity)(t)),0);const ie=e=>{var t=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]])}return s}(e,[]);return(0,n.jsx)("article",{className:"bcJZjzZO",children:(0,n.jsxs)(J.Link,{to:(e=>{var s;let n=e.split(" ").join("-");return window.location.pathname.split("/").includes("product")&&(null===(s=t.prevLocation)||void 0===s?void 0:s.split("/").includes("product"))?`/fashion/shop/product/${n}`:"product/"+n})(t.name),children:[(0,n.jsxs)("div",{className:"o6m3v7dS",children:[(0,n.jsx)("img",{src:t.image,alt:`${t.name}`}),(0,n.jsx)(K,{discount:t.discount})]}),(0,n.jsxs)("div",{className:"I0u8YrbZ",children:[(0,n.jsxs)("div",{className:"efDcYDI1",children:[(0,n.jsx)(X,{discountT:t.discount,priceT:t.price}),(0,n.jsx)(H,{img:Q,onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{console.log("До кошика додано:",e);const t=U.findIndex((t=>t.name===e.name));t>=0?U[t].quantity+=1:U.push(Object.assign(Object.assign({},e),{quantity:1})),se()})({id:t.id,image:t.image,discount:t.discount,price:t.price,name:t.name,category:t.category,type:t.type,color:t.color})}})]}),(0,n.jsx)("div",{className:"UUXkbhhu",children:(0,n.jsx)("p",{children:t.name})})]})]})})};var ce=s(594);const le=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(Y()),{response:i,error:c,isLoading:l,fetchData:o}=(()=>{const[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(null),[r,i]=(0,a.useState)(!1);return{response:e,error:s,isLoading:r,fetchData:(0,a.useCallback)((e=>{return s=void 0,a=void 0,c=function*(){const{method:s,port:a,url:r,body:c}=e;i(!0),n(null);try{const e={method:s,headers:{"Content-Type":"application/json"}};if("POST"===s){const t=Object.assign({},c||{});e.body=JSON.stringify(t)}const n=yield fetch(`http://localhost:${a}/${ce.F}/${r}`,e),i=yield n.json();if(!n.ok)throw new Error("Сталася помилка. Скоротіть довжину тексту або спробуйте пізніше");if(i&&"object"==typeof i&&!1===i.success){const e=i.error||i.message||"Сталася помилка";throw new Error(e)}if("GET"===s&&!Array.isArray(i))throw new Error("Очікувався масив обʼєктів у відповіді GET");t(i)}catch(e){n(e),t({error:e.message})}finally{i(!1)}},new((r=void 0)||(r=Promise))((function(e,t){function n(e){try{l(c.next(e))}catch(e){t(e)}}function i(e){try{l(c.throw(e))}catch(e){t(e)}}function l(t){var s;t.done?e(t.value):(s=t.value,s instanceof r?s:new r((function(e){e(s)}))).then(n,i)}l((c=c.apply(s,a||[])).next())}));var s,a,r,c}),[])}})();return(0,a.useEffect)((()=>{o({method:"GET",url:"shop",port:5e3})}),[]),(0,a.useEffect)((()=>{i&&Array.isArray(i)&&(t(i),W(i))}),[i]),(0,a.useEffect)((()=>{const e=(t=r,z.push(t),()=>{z=z.filter((e=>e!==t))});var t;return()=>e()}),[]),(0,n.jsx)("section",{className:"r0fKPfA_",children:(s.length>0?s:e).map((e=>(0,n.jsx)(ie,{name:`${e.name}`,price:e.price,discount:e.discount,image:e.image},e.name)))})},oe=()=>{const e=(0,a.useRef)(window.innerWidth),[t,s]=(0,a.useState)(window.innerWidth),[r,i]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const t=()=>{e.current=window.innerWidth,s(window.innerWidth)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),(0,a.useEffect)((()=>{const e=setTimeout((()=>i(!0)),100);return()=>clearTimeout(e)}),[]),(0,n.jsx)("div",{className:"Xq6YkhR3",children:(0,n.jsxs)("div",{className:"Dgsd4stE",children:[t>=1069&&r&&(0,n.jsx)($,{}),(0,n.jsx)(le,{})]})})},de=s.p+"7e602869d8f513d1a218.png",ue=()=>(0,n.jsx)("div",{className:"NuZBORwp",children:(0,n.jsxs)("div",{className:"VEPH0tC6",children:[(0,n.jsx)("img",{src:de,alt:"cataligIcon",className:"w7LQFbyD"}),(0,n.jsx)("p",{children:"Каталог товарів"})]})}),me=s.p+"e35ff453a7f6ab3e767b.png",he=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)("");setTimeout((()=>{const e=Z();t(e),console.log("proddd:   ",e)}),1);const i=s.toLowerCase().trim(),{filtered:c,error:l,count:o}=(({data:e,field:t,searchValue:s})=>{const[n,r]=(0,a.useState)(null),i=(0,a.useMemo)((()=>{if(r(null),!e||!Array.isArray(e))return r("Дані для фільтрації не є масивом"),{filtered:[],count:0};if(!s||""===s.trim())return{filtered:e,count:e.length};const n=s.toLowerCase().trim();try{const s=n.split(/\s+/).filter((e=>e.length>0)),a=Array.from(new Set(n.replace(/\s+/g,""))),r=e.filter((e=>{if(null==e||"object"!=typeof e)return!1;const r=e[t];if(null==r)return!1;const i=String(r).toLowerCase();if(i===n)return!0;const c=s.every((e=>i.includes(e))),l=a.every((e=>i.includes(e)));return c||l}));return{filtered:r,count:r.length}}catch(e){const t=e instanceof Error?e.message:"Сталася помилка під час фільтрації";return r(t),{filtered:[],count:0}}}),[e,t,s]);return{filtered:i.filtered,error:n,count:i.count}})({data:e,field:"name",searchValue:i});return(0,n.jsxs)("div",{className:"XIMh4ZdH",children:[(0,n.jsx)("input",{type:"text",max:20,value:s,className:"ugAmEzk5",onChange:e=>r(e.target.value)}),(0,n.jsx)("div",{className:"le0YgJ0z",children:(0,n.jsx)(H,{img:me,width:24,onClick:()=>{G(c)}})})]})},xe="LS6nsOAE",pe="xgDMte0A",fe=s.p+"478bf4bab2ced8f1424d.png";var je=s(490),ve=s.n(je);const ge=({isOpen:e,setIsOpen:t})=>e?((0,a.useEffect)((()=>(document.body.style.overflow=e?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[e]),ve().createPortal((0,n.jsx)("div",{className:"_Y6FYS3O",onClick:e=>{t(!1)},children:(0,n.jsx)("div",{className:"JJV7j7Vp",onClick:e=>e.stopPropagation(),children:(0,n.jsx)($,{})})}),document.getElementById("modal-root"))):null,Ne="wckDk1gO",be=({setOpenStatus:e})=>(0,n.jsxs)("div",{className:"K5gyWF4D",onClick:t=>{e(!1)},children:[(0,n.jsx)("span",{className:Ne}),(0,n.jsx)("span",{className:Ne})]}),ye=({children:e,onClick:t})=>(0,n.jsx)("button",{className:"HrRv8mXu",onClick:t,children:e}),Se=({productName:e,initialQuantity:t=1})=>{const s=ae().find((t=>t.name===e)),a=s?s.quantity:t;return(0,n.jsxs)("div",{className:"chHYbYCM",children:[(0,n.jsx)(ye,{onClick:()=>{a>1&&ne(e,a-1)},children:" - "}),(0,n.jsx)("span",{className:"FbC0SZ5Q",children:a}),(0,n.jsx)(ye,{onClick:()=>{ne(e,a+1)},children:" + "})]})},we=s.p+"9a8592a0aed9807f8507.png",Ce=({onClick:e,setSummaryRenderEvent:t})=>(0,n.jsxs)("div",{className:"QSXMLYMU",onClick:()=>{null==e||e(),null==t||t(Math.floor(3*Math.random()))},children:[(0,n.jsx)("img",{src:we,alt:"Trash",className:"YtJz2uaw"}),(0,n.jsx)("span",{className:"Z0dVimgu"})]}),_e=({data:e})=>(0,n.jsxs)("div",{className:"uddBK3b5",children:[(0,n.jsx)("div",{className:"dF6wzuvb",children:(0,n.jsx)("img",{src:e.image,className:"b1rjQNVN",alt:e.name})}),(0,n.jsx)("h3",{className:"bhDvEIgF",children:e.name}),(0,n.jsxs)("div",{className:"vGEExCBS",children:[(0,n.jsx)(Se,{productName:e.name,initialQuantity:e.quantity}),(0,n.jsxs)("div",{className:"eZZGtueS",children:[(0,n.jsx)(X,{discountT:e.discount,priceT:e.price,direction:"column-reverse"}),(0,n.jsx)(Ce,{onClick:()=>{var t;t=e.name,U=U.filter((e=>e.name!==t)),se()}})]})]})]}),ke=()=>{const[e,t]=(0,a.useState)(ae());return(0,a.useEffect)((()=>{const e=te((()=>{t(ae())}));return()=>e()}),[]),(0,n.jsx)("div",{className:"j6M3BtEI",children:e.map((e=>(0,n.jsx)(_e,{data:e},e.name)))})},Ee=({type:e,placeholder:t,label:s,min:a,max:r,id:i,required:c,onInput:l})=>{const o={type:e,className:"mJ7TjZ0Y",id:i,placeholder:t,min:a,max:r,required:c};return"password"===e&&(o.minLength=8,o.title="Пароль повинен містити щонайменше 8 символів"),"email"===e&&(o.pattern="[a-zA-Z0-9._%+\\-]+@[a-zA-Z0-9.\\-]+\\.[a-zA-Z]{2,}"),(0,n.jsxs)("div",{className:"Sgj9lMxY",children:[(0,n.jsx)("label",{className:"LbkLIEaX",htmlFor:i,children:s}),(0,n.jsx)("input",Object.assign({},o,{onInput:e=>{l(e.currentTarget.value)}}))]})},Ae=({label:e,optionBasic:t="",options:s,value:a,onChange:r,disabled:i=!1})=>(0,n.jsxs)("div",{className:"_2VIaQor",children:[(0,n.jsx)("label",{children:e}),(0,n.jsxs)("select",{value:a,onChange:e=>r(e.target.value),disabled:i,children:[(0,n.jsx)("option",{value:"",children:t}),s.map(((e,t)=>(0,n.jsx)("option",{value:e,children:e},t)))]})]}),Te={orderForm:"Y32X7t7V",form:"vz21SWHL",section:"EXPi2_cS",gridTwoCols:"QGA_wUG3",gridSingle:"HURaeMwy",couponButton:"bAZV4W9J",couponField:"xG92v8u_",slideDown:"gUTGhnAs"};var Pe=s(756),Oe=function(e,t,s,n){return new(s||(s=Promise))((function(a,r){function i(e){try{l(n.next(e))}catch(e){r(e)}}function c(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,c)}l((n=n.apply(e,t||[])).next())}))};const Ie=new class{sendRequest(e,t){return Oe(this,arguments,void 0,(function*(e,t,s={}){try{const n=yield Pe.A.post("https://api.novaposhta.ua/v2.0/json/",{apiKey:"7f82d5b07b5b8272d3630cccc7af95a6",modelName:e,calledMethod:t,methodProperties:s});return n.data.success?n.data.data:(console.error("Nova Poshta API error:",n.data.errors),[])}catch(e){return console.error("Error fetching data from Nova Poshta:",e),[]}}))}getAreas(){return Oe(this,void 0,void 0,(function*(){return this.sendRequest("Address","getAreas")}))}getCities(e){return Oe(this,void 0,void 0,(function*(){return this.sendRequest("Address","getCities",{AreaRef:e||""})}))}getWarehouses(e){return Oe(this,void 0,void 0,(function*(){return this.sendRequest("AddressGeneral","getWarehouses",{CityRef:e})}))}getAreaNames(){return Oe(this,void 0,void 0,(function*(){return(yield this.getAreas()).map((e=>({ref:e.Ref,name:e.Description})))}))}getCityNames(e){return Oe(this,void 0,void 0,(function*(){return(yield this.getCities(e)).map((e=>({ref:e.Ref,name:e.Description})))}))}getWarehouseNames(e){return Oe(this,void 0,void 0,(function*(){return(yield this.getWarehouses(e)).map((e=>({ref:e.Ref,name:`${e.Description} (№${e.Number})`})))}))}};var Le=function(e,t,s,n){return new(s||(s=Promise))((function(a,r){function i(e){try{l(n.next(e))}catch(e){r(e)}}function c(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,c)}l((n=n.apply(e,t||[])).next())}))};const Me=()=>{const[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)([]),[i,c]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[d,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[x,p]=(0,a.useState)(""),[f,j]=(0,a.useState)(""),[v,g]=(0,a.useState)(""),[N,b]=(0,a.useState)(""),[y,S]=(0,a.useState)(""),[w,C]=(0,a.useState)(ae()),[_,k]=(0,a.useState)(!1),[E,A]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{Le(void 0,void 0,void 0,(function*(){A(!0);try{const e=yield Ie.getAreaNames();r(e)}catch(e){console.error("Помилка при завантаженні областей:",e)}finally{A(!1)}}))}),[]),(0,a.useEffect)((()=>{if(!m)return c([]),p(""),void j("");Le(void 0,void 0,void 0,(function*(){A(!0);try{const e=yield Ie.getCityNames(m);c(e)}catch(e){console.error("Помилка при завантаженні міст:",e)}finally{A(!1)}}))}),[m]),(0,a.useEffect)((()=>{if(!f)return o([]),g(""),void b("");Le(void 0,void 0,void 0,(function*(){A(!0);try{const e=yield Ie.getWarehouseNames(f);o(e)}catch(e){console.error("Помилка при завантаженні відділень:",e)}finally{A(!1)}}))}),[f]),(0,a.useEffect)((()=>{const e=w.length>0;k(e);const t=ae();C(t)}),[w,w]),_?(0,n.jsxs)("div",{className:Te.orderForm,children:[(0,n.jsx)("h2",{children:"Оформлення замовлення"}),E&&(0,n.jsx)("div",{className:Te.loader,children:"Завантаження даних..."}),(0,n.jsxs)("form",{className:Te.form,children:[(0,n.jsx)("section",{className:Te.section,children:(0,n.jsxs)("div",{className:Te.gridTwoCols,children:[(0,n.jsx)(Ee,{type:"text",id:"firstName",placeholder:"Іван",label:"Ім'я"}),(0,n.jsx)(Ee,{type:"text",id:"lastName",placeholder:"Іванов",label:"Прізвище"}),(0,n.jsx)(Ee,{type:"tel",id:"phone",placeholder:"+380 ХХХ ХХХХ",label:"Номер телефону"}),(0,n.jsx)(Ee,{type:"email",id:"email",placeholder:"name@gmail.com",label:"Email"})]})}),(0,n.jsx)("section",{className:Te.section,children:(0,n.jsxs)("div",{className:Te.gridTwoCols,children:[(0,n.jsx)(Ae,{options:s.map((e=>e.name)),label:"Область",optionBasic:"Оберіть область",value:d,onChange:e=>{const t=s.find((t=>t.name===e));u(e),h((null==t?void 0:t.ref)||""),p(""),j(""),g(""),b("")},disabled:E}),(0,n.jsx)(Ae,{options:i.map((e=>e.name)),label:"Місто доставки",optionBasic:"Оберіть місто",value:x,disabled:!d||E,onChange:e=>{const t=i.find((t=>t.name===e));p(e),j((null==t?void 0:t.ref)||""),g(""),b("")}}),(0,n.jsx)(Ae,{options:l.map((e=>e.name)),label:"Відділення",optionBasic:"Оберіть відділення",value:v,onChange:e=>{const t=l.find((t=>t.name===e));g(e),b((null==t?void 0:t.ref)||"")},disabled:!x||E})]})}),(0,n.jsxs)("section",{className:Te.section,children:[(0,n.jsx)("div",{className:Te.gridSingle,children:(0,n.jsx)(Ae,{options:["Нова пошта","Кур'єр","Самовивіз"],label:"Спосіб доставки",optionBasic:"Спосіб доставки",value:y,onChange:S,disabled:!v||E})}),e?(0,n.jsx)("div",{className:Te.gridSingle,children:(0,n.jsx)(Ee,{type:"text",id:"coupon",placeholder:"PROMO2024",label:"Купон"})}):(0,n.jsx)("button",{type:"button",onClick:()=>t(!0),className:Te.couponButton,children:"Ввести купон"})]})]})]}):null},Ve=({text:e})=>(0,n.jsx)("button",{className:"r8T0BPE0",children:e}),Fe=()=>{const[e,t]=(0,a.useState)(re());(0,a.useEffect)((()=>{const e=te((()=>{t(re())}));return()=>e()}),[]);const s=e.toFixed(2);return(0,n.jsxs)("div",{className:"V7IoCSi3",children:[(0,n.jsxs)("div",{className:"tpaiivmC",children:[(0,n.jsx)("div",{className:"ESlL9I7w",children:(0,n.jsx)("h3",{children:"Сума:"})}),(0,n.jsx)("div",{className:"OASJPa0f",children:(0,n.jsxs)("span",{className:"ddYSTQuU",children:["$",s]})})]}),(0,n.jsx)("div",{children:(0,n.jsx)(Ve,{text:"Замовити"})})]})},Re=s.p+"154bbf3e1e2e2e27082b.png",Be=()=>(0,n.jsxs)("div",{className:"QBZFnfNn",children:[(0,n.jsx)("img",{src:Re,alt:"iconBasket"}),(0,n.jsx)("div",{className:"b9VJHBXr",children:"Тут поки нічого немає :("})]}),De=({setBasketOpenStatus:e,basketOpenStatus:t})=>{const[s,r]=(0,a.useState)(ae());(0,a.useEffect)((()=>{document.body.style.overflow="hidden";const e=te((()=>{r(ae())}));return r(ae()),()=>{document.body.style.overflow="",e()}}),[]);const i=s.length>0;return ve().createPortal((0,n.jsx)("div",{className:"XJIP6ZmP",onClick:()=>e(!1),children:i?(0,n.jsxs)("div",{className:"LjHiMHLR",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)(be,{setOpenStatus:e}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ke,{}),(0,n.jsx)(Me,{}),(0,n.jsx)(Fe,{})]})]}):(0,n.jsxs)("div",{className:"uefU4Lex",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)(be,{setOpenStatus:e}),(0,n.jsx)(Be,{})]})}),document.getElementById("modal-root"))},We=({setIsOpen:e})=>{const[t,s]=(0,a.useState)(!1),[r,i]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{document.body.style.overflow=t?"hidden":"auto"}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"P7Pbarnk",children:[(0,n.jsxs)("div",{className:xe,onClick:e=>{s(!t)},children:[(0,n.jsx)("img",{className:pe,src:Q,alt:"Кошик"}),(0,n.jsx)("p",{children:"Кошик"})]}),(0,n.jsxs)("div",{className:xe,onClick:e=>{i(!r)},children:[(0,n.jsx)("img",{className:pe,src:fe,alt:"Фільтр"}),(0,n.jsx)("p",{children:"Фільтер"})]})]}),r&&(0,n.jsx)(ge,{isOpen:r,setIsOpen:i}),t&&(0,n.jsx)(De,{setBasketOpenStatus:s,basketOpenStatus:t})]})},Ze=()=>{const[e,t]=(0,a.useState)(!1);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"XL0Ac8tC",children:(0,n.jsxs)("nav",{className:"gKwsS8ok",children:[(0,n.jsx)(ue,{}),(0,n.jsx)(he,{}),(0,n.jsx)(We,{setIsOpen:t})]})})})},qe=()=>(0,n.jsxs)("div",{className:"wrapper",children:[(0,n.jsx)(Ze,{}),(0,n.jsx)(j,{}),(0,n.jsx)(g,{}),(0,n.jsx)(oe,{})]})}}]);
//# sourceMappingURL=390.89a4696a63435724652e.js.map