"use strict";(self.webpackChunkshop=self.webpackChunkshop||[]).push([[31],{202:(e,t,s)=>{s.d(t,{q:()=>qe});var n=s(85),a=s(390),r=s.n(a);const c={catalog:"xW8Yfgpk",category__item:"ILtkZMUf",category__item_content:"nJhAP0VS",category__item_img:"kPJxN7_B",category__item_text:"XDuYsIb2"},i=({section:e={title:"",links:[]}})=>(0,n.jsx)("div",{className:c.catalog,children:(0,n.jsx)("ul",{className:c.catalog__category,children:e.links.map((e=>(0,n.jsx)("li",{className:c.category__item,children:(0,n.jsxs)("span",{className:c.category__item_content,children:[(0,n.jsx)("img",{className:c.category__item_img,src:e.icon,alt:e.text}),e.text]})},e.href)))})}),l=[{id:1,title:"action_1",bannerSrc:s.p+"225e0258708741597e1b.webp"},{id:2,title:"action_2",bannerSrc:s.p+"5a1d321559540e6882b5.webp"},{id:3,title:"action_3",bannerSrc:s.p+"b6c1a2bd8c86bf0d5422.webp"}],o=s.p+"d40549d9422971d71cc8.svg",d=({rotate:e="0deg",left:t="0",visible:s,onClick:a})=>(0,n.jsx)("button",{className:"EELQZnrc "+(s?"JN4eaEEw":""),style:{transform:`rotate(${e})`,left:`${t}`},onClick:a,children:(0,n.jsx)("img",{src:o,alt:"arrow in circle",className:"EYYqrW8M"})}),u=()=>{const e=(0,a.useRef)(),t=(0,a.useRef)(),[s,r]=(0,a.useState)(0),[c,i]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{let s;const n=setTimeout((()=>{if(t.current&&e.current){const n=t.current.offsetWidth;r(n);const a=n*l.length;s=setInterval((()=>{e.current&&(e.current.scrollLeft+n>=a?e.current.scrollTo({left:0,behavior:"smooth"}):e.current.scrollBy({left:n,behavior:"smooth"}))}),4e3)}}),100);return()=>{clearTimeout(n),s&&clearInterval(s)}}),[]),(0,a.useEffect)((()=>{const e=()=>{t.current&&r(t.current.offsetWidth)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,n.jsxs)("div",{className:"dnQwumLu",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[(0,n.jsx)("div",{className:"bEKkZTcG",ref:e,children:l.map(((e,s)=>(0,n.jsx)("div",{className:"M5rxGIoM",ref:0===s?t:null,children:(0,n.jsx)("img",{src:e.bannerSrc,alt:e.title,className:"CSVqugCh",onLoad:()=>{0===s&&t.current&&r(t.current.offsetWidth)}})},e.id)))}),(0,n.jsx)(d,{visible:c,onClick:()=>{e.current&&s>0&&e.current.scrollBy({left:-s,behavior:"smooth"})},rotate:"180deg",left:"12px"}),(0,n.jsx)(d,{visible:c,onClick:()=>{e.current&&s>0&&e.current.scrollBy({left:s,behavior:"smooth"})},rotate:"0deg",left:"calc(100% - 44px)"})]})},m=s.p+"369a1089341c7c6bdc7b.png",h=s.p+"737ce3abaf159ce563df.png",x=s.p+"0f0d0435c27f5eb2a7ee.png",f=s.p+"87a55585c52c423f1036.png",p=s.p+"222f10281e0760754596.png",v={title:"clothes",links:[{href:"#",text:"Розпродаж",icon:s.p+"2dd9ab6890a2331ae466.svg"},{href:"#",text:"Футболки",icon:x},{href:"#",text:"Худі",icon:m},{href:"#",text:"Світшоти",icon:p},{href:"#",text:"Штани",icon:h},{href:"#",text:"Сорочки",icon:f}]},j=()=>(0,n.jsx)("div",{className:"TfQTtVHX",children:(0,n.jsxs)("div",{className:"MPbxu5Dn",children:[(0,n.jsx)(i,{section:v}),(0,n.jsx)(u,{})]})}),g="L2AapYww",N=()=>(0,n.jsx)("div",{className:"rRgUF_l9",children:(0,n.jsxs)("div",{className:"l3BGxi_x",children:[(0,n.jsx)("div",{className:g}),(0,n.jsx)("div",{className:g}),(0,n.jsx)("div",{className:g}),(0,n.jsx)("a",{className:"JJPoWWC0",href:"https://googlebume.github.io/online-fashion-constructor/",children:"Створи унікальний принт!"}),(0,n.jsx)("div",{className:g})]})}),y=({listTitle:e,nameAttr:t,lis:s,getCategoriesValue:a})=>(0,n.jsxs)("div",{className:"FLIstkfr",children:[(0,n.jsx)("h3",{className:"VD9ntZ_m",children:e}),(0,n.jsx)("div",{className:"unKnCMzW",children:s.map((e=>(0,n.jsxs)("div",{className:"xDzZXkmM",children:[(0,n.jsx)("input",{type:"checkbox",className:"EzoU5L8g",name:t,value:e.valueAttr,id:`${e.valueAttr}_${e.id}`,onChange:e=>a({value:e.target.value,checked:e.target.checked})}),(0,n.jsx)("label",{htmlFor:`${e.valueAttr}_${e.id}`,className:"KV1qOGVx",children:e.categoryName})]},e.id)))})]}),b=[{listTitle:"Категорія",nameAttr:"category",lis:[{id:1,categoryName:"Чоловіче",valueAttr:"male"},{id:2,categoryName:"Жіноче",valueAttr:"female"}]},{listTitle:"Вид",nameAttr:"type",lis:[{id:1,categoryName:"Футболки",valueAttr:"tshirt",link:""},{id:2,categoryName:"Худі",valueAttr:"hoodie",link:""},{id:3,categoryName:"Світшоти",valueAttr:"sweatshirt",link:""},{id:4,categoryName:"Сорочки",valueAttr:"shirt",link:""}]}];let S=[],w=[],C=[];const k=e=>{S=[...e],console.log("✅ Категорії оновлені:",...S),w.forEach((e=>e(S)))},E=()=>S;let _=[];const A=e=>{_=[...e],console.log("✅ Кольори оновлені:",..._),C.forEach((e=>e(_)))},T=()=>{const[e,t]=(0,a.useState)([]);function s({value:s,checked:n}){const a=n?[...e,s]:e.filter((e=>e!==s));t(a),k(a)}return(0,n.jsx)(n.Fragment,{children:b.map((e=>(0,n.jsx)(y,{listTitle:e.listTitle,nameAttr:e.nameAttr,lis:e.lis,getCategoriesValue:s},e.nameAttr)))})},P=({placeholder:e,value:t,onChange:s})=>(0,n.jsxs)("div",{className:"zCIvAYWV",children:[(0,n.jsxs)("div",{className:"MVksEMca",children:[" ",e," "]}),(0,n.jsx)("input",{type:"number",value:t,min:100,max:5e3,onChange:s,className:"awRBpaKL"})]}),O="bGjy25Fp",I="DneMcwW3",L=({text:e,onClick:t,img:s,variant:a="primary"})=>{const c="secondary"===a?`${O} W3ePZ5vR`:O;return(0,n.jsxs)("button",{className:c,onClick:t,children:[s&&"string"==typeof s?(0,n.jsx)("img",{src:s,alt:"",className:I}):s&&r().createElement(s,{className:I}),e]})},M=({minInRange:e,maxInRange:t,setMinPrice:s,setMaxPrice:a,minValue:r,maxValue:c})=>{const i=(r-e)/(t-e)*100,l=(c-e)/(t-e)*100;return(0,n.jsxs)("div",{className:"dOLSEXGS",children:[(0,n.jsx)("input",{type:"range",className:"E9sgu3Ki",min:e,max:t,value:r,onChange:e=>s(Math.min(Number(e.target.value)))}),(0,n.jsx)("input",{type:"range",className:"AWjj2bzD",min:e,max:t,value:c,onChange:e=>a(Math.max(Number(e.target.value)))}),(0,n.jsx)("div",{className:"rnN3TZAV",children:(0,n.jsx)("div",{className:"DPvcShFn",style:{left:`${i}%`,right:100-l+"%"}})})]})},V=({setSelectedPriceRange:e})=>{const[t,s]=(0,a.useState)(100),[r,c]=(0,a.useState)(5e3),i=e=>{s(e)},l=e=>{c(e)};return(0,a.useEffect)((()=>{if(t>r){const e=t;s(r),c(e)}}),[t,r]),(0,n.jsxs)("div",{className:"tztbT5HK",children:[(0,n.jsx)("h3",{className:"NJ3Cpi8N",children:"Ціна"}),(0,n.jsxs)("div",{className:"ltYGlieC",children:[(0,n.jsx)(P,{placeholder:"Від",onChange:e=>i(Number(e.target.value)),value:t}),(0,n.jsx)(P,{placeholder:"До",onChange:e=>l(Number(e.target.value)),value:r}),(0,n.jsx)(L,{text:"Ок",variant:"secondary",onClick:()=>{e({minPrice:t,maxPrice:r})}})]}),(0,n.jsx)(M,{minInRange:100,maxInRange:5e3,setMinPrice:i,setMaxPrice:l,minValue:t,maxValue:r})]})},F=[{id:"1",name:"Жовтий",color:"#ffbe0b",colorTxt:"yellow"},{id:"2",name:"Чорний",color:"#151a1f",colorTxt:"black"},{id:"3",name:"Білий",color:"white",colorTxt:"white"},{id:"4",name:"Рожевий",color:"palevioletred",colorTxt:"pink"},{id:"5",name:"Коричневий",color:"rgb(133, 75, 37)",colorTxt:"brown"},{id:"6",name:"Синій",color:"rgb(47, 136, 163)",colorTxt:"blue"}],R={color__checkbox:"wADM_K1g",color__ditch:"i8CNpfjD",ditch__shade:"IT0xFQlq"},D=({name:e,color:t,colorTxt:s,id:a,getColorsValue:r})=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"checkbox",className:R.color__checkbox,value:s,id:`ditch_${a}`,onChange:e=>r({value:e.target.value,checked:e.target.checked})}),(0,n.jsxs)("label",{className:R.color__ditch,htmlFor:`ditch_${a}`,children:[(0,n.jsx)("div",{className:R.ditch__shade,style:{backgroundColor:`${t}`},children:" "}),(0,n.jsx)("span",{className:R.ditch__name,children:e})]})]}),W={filters__title:"OZDHUssP",colors__palette:"WNsjHoPE"},B=()=>{const[e,t]=(0,a.useState)([]);function s({value:s,checked:n}){const a=n?[...e,s]:e.filter((e=>e!==s));t(a),A(a)}return(0,n.jsxs)("div",{className:W.colors__group,children:[(0,n.jsx)("h3",{className:W.filters__title,children:"Кольори"}),(0,n.jsx)("div",{className:W.colors__palette,children:F.map((e=>(0,n.jsx)(D,{name:e.name,color:e.color,colorTxt:e.colorTxt,id:e.id,getColorsValue:s})))})]})};let Z=[];const z=e=>{Z=[...e],console.log("✅ Дані збережено в `products`:",Z)},Y=()=>(console.log("📢 Отримання всіх продуктів:",Z),Z);let q=[],$=[];const G=e=>{q=[...e],console.log("✅ Фільтровані продукти збережено:",q),$.forEach((e=>e(q)))},J=()=>q,X=()=>{const[e,t]=(0,a.useState)(Y()),[s,r]=(0,a.useState)(E()),[c,i]=(0,a.useState)(_),[l,o]=(0,a.useState)(void 0);return(0,a.useEffect)((()=>{const e=(t=r,w.push(t),()=>{w=w.filter((e=>e!==t))});var t;const s=(e=>(C.push(e),()=>{C=C.filter((t=>t!==e))}))(i);return()=>{e(),s()}}),[]),(0,a.useEffect)((()=>{if(0===e.length)return;const t=function(){let t=[...e];return s.length>0&&(t=t.filter((e=>s.includes(e.attributes.category)||s.includes(e.attributes.type)))),c.length>0&&(t=t.filter((e=>c.includes(e.attributes.color)))),l&&(t=t.filter((e=>e.price>=l.minPrice&&e.price<=l.maxPrice))),t}();G(t)}),[e,s,c,l]),(0,n.jsxs)("aside",{className:"eSyCOyH2",children:[(0,n.jsx)(T,{}),(0,n.jsx)(V,{setSelectedPriceRange:o}),(0,n.jsx)(B,{})]})};var H=s(469);const Q=({img:e,onClick:t,width:s})=>(0,n.jsx)("button",{className:"FdE8qlus",onClick:t,style:{maxWidth:s},children:"string"==typeof e?(0,n.jsx)("img",{src:e,alt:"Button",className:"zjVb0Te7"}):r().isValidElement(e)?e:null}),K=s.p+"016db192cc6f042f5e75.svg?url",U=({discountT:e,priceT:t,direction:s})=>{const a={flexDirection:s||"column"},r=+e*+t/100,c=Math.round(+t-+r);return(0,n.jsxs)("div",{className:"taJhZyL5",style:a,children:[(0,n.jsx)("span",{className:"fFAWrX2I",children:c}),(0,n.jsx)("span",{className:"Kp9qc4z1",children:t})]})},ee=({discount:e})=>(0,n.jsx)("div",{className:"Slhw4gAj",children:(0,n.jsxs)("span",{className:"dGCnS_4H",children:["-",e,"%"]})});let te=[],se=[];const ne=e=>(se.push(e),()=>{se=se.filter((t=>t!==e))}),ae=()=>{se.forEach((e=>e()))},re=(e,t)=>{if(t<1)return;const s=te.findIndex((t=>t.name===e));s>=0&&(te[s].quantity=t,ae())},ce=()=>[...te],ie=()=>te.reduce(((e,t)=>e+(e=>(e.discount?e.price*(1-e.discount/100):e.price)*e.quantity)(t)),0);const le=e=>{var t=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]])}return s}(e,[]);return(0,n.jsx)("article",{className:"bcJZjzZO",children:(0,n.jsxs)(H.Link,{to:(e=>{var s;let n=e.split(" ").join("-");return window.location.pathname.split("/").includes("product")&&(null===(s=t.prevLocation)||void 0===s?void 0:s.split("/").includes("product"))?`/fashion/shop/product/${n}`:"product/"+n})(t.name),children:[(0,n.jsxs)("div",{className:"o6m3v7dS",children:[(0,n.jsx)("img",{src:t.image,alt:`${t.name}`}),(0,n.jsx)(ee,{discount:t.discount})]}),(0,n.jsxs)("div",{className:"I0u8YrbZ",children:[(0,n.jsxs)("div",{className:"efDcYDI1",children:[(0,n.jsx)(U,{discountT:t.discount,priceT:t.price}),(0,n.jsx)(Q,{img:K,onClick:e=>{e.preventDefault(),e.stopPropagation(),(e=>{console.log("До кошика додано:",e);const t=te.findIndex((t=>t.name===e.name));t>=0?te[t].quantity+=1:te.push(Object.assign(Object.assign({},e),{quantity:1})),ae()})({id:t.id,image:t.image,discount:t.discount,price:t.price,name:t.name,category:t.category,type:t.type,color:t.color})}})]}),(0,n.jsx)("div",{className:"UUXkbhhu",children:(0,n.jsx)("p",{children:t.name})})]})]})})};var oe=s(594);const de=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(J()),{response:c,error:i,isLoading:l,fetchData:o}=(()=>{const[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(null),[r,c]=(0,a.useState)(!1);return{response:e,error:s,isLoading:r,fetchData:(0,a.useCallback)((e=>{return s=void 0,a=void 0,i=function*(){const{method:s,port:a,url:r,body:i}=e;c(!0),n(null);try{const e={method:s,headers:{"Content-Type":"application/json"}};if("POST"===s){const t=Object.assign({},i||{});e.body=JSON.stringify(t)}const n=yield fetch(`http://localhost:${a}/${oe.F}/${r}`,e),c=yield n.json();if(!n.ok)throw new Error("Сталася помилка. Скоротіть довжину тексту або спробуйте пізніше");if(c&&"object"==typeof c&&!1===c.success){const e=c.error||c.message||"Сталася помилка";throw new Error(e)}if("GET"===s&&!Array.isArray(c))throw new Error("Очікувався масив обʼєктів у відповіді GET");t(c)}catch(e){n(e),t({error:e.message})}finally{c(!1)}},new((r=void 0)||(r=Promise))((function(e,t){function n(e){try{l(i.next(e))}catch(e){t(e)}}function c(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var s;t.done?e(t.value):(s=t.value,s instanceof r?s:new r((function(e){e(s)}))).then(n,c)}l((i=i.apply(s,a||[])).next())}));var s,a,r,i}),[])}})();return(0,a.useEffect)((()=>{o({method:"GET",url:"shop",port:5e3})}),[]),(0,a.useEffect)((()=>{c&&Array.isArray(c)&&(t(c),z(c))}),[c]),(0,a.useEffect)((()=>{const e=(t=r,$.push(t),()=>{$=$.filter((e=>e!==t))});var t;return()=>e()}),[]),(0,n.jsx)("section",{className:"r0fKPfA_",children:(s.length>0?s:e).map((e=>(0,n.jsx)(le,{name:`${e.name}`,price:e.price,discount:e.discount,image:e.image},e.name)))})},ue=()=>{const e=(0,a.useRef)(window.innerWidth),[t,s]=(0,a.useState)(window.innerWidth),[r,c]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const t=()=>{e.current=window.innerWidth,s(window.innerWidth)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),(0,a.useEffect)((()=>{const e=setTimeout((()=>c(!0)),100);return()=>clearTimeout(e)}),[]),(0,n.jsx)("div",{className:"Xq6YkhR3",children:(0,n.jsxs)("div",{className:"Dgsd4stE",children:[t>=1069&&r&&(0,n.jsx)(X,{}),(0,n.jsx)(de,{})]})})},me=s.p+"407159fa139a34c301e8.svg",he=()=>(0,n.jsx)("div",{className:"NuZBORwp",children:(0,n.jsxs)("div",{className:"VEPH0tC6",children:[(0,n.jsx)("img",{src:me,alt:"catalogIcon",className:"w7LQFbyD"}),(0,n.jsx)("p",{children:"Каталог товарів"})]})}),xe=s.p+"b1e1ab1cd8b087a8ff54.svg",fe=()=>{const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)("");setTimeout((()=>{const e=Y();t(e),console.log("proddd:   ",e)}),1);const c=s.toLowerCase().trim(),{filtered:i,error:l,count:o}=(({data:e,field:t,searchValue:s})=>{const[n,r]=(0,a.useState)(null),c=(0,a.useMemo)((()=>{if(r(null),!e||!Array.isArray(e))return r("Дані для фільтрації не є масивом"),{filtered:[],count:0};if(!s||""===s.trim())return{filtered:e,count:e.length};const n=s.toLowerCase().trim();try{const s=n.split(/\s+/).filter((e=>e.length>0)),a=Array.from(new Set(n.replace(/\s+/g,""))),r=e.filter((e=>{if(null==e||"object"!=typeof e)return!1;const r=e[t];if(null==r)return!1;const c=String(r).toLowerCase();if(c===n)return!0;const i=s.every((e=>c.includes(e))),l=a.every((e=>c.includes(e)));return i||l}));return{filtered:r,count:r.length}}catch(e){const t=e instanceof Error?e.message:"Сталася помилка під час фільтрації";return r(t),{filtered:[],count:0}}}),[e,t,s]);return{filtered:c.filtered,error:n,count:c.count}})({data:e,field:"name",searchValue:c});return(0,n.jsxs)("div",{className:"XIMh4ZdH",children:[(0,n.jsx)("input",{type:"text",max:20,value:s,className:"ugAmEzk5",onChange:e=>r(e.target.value)}),(0,n.jsx)("div",{className:"le0YgJ0z",children:(0,n.jsx)(Q,{img:xe,width:24,onClick:()=>{G(i)}})})]})},pe="LS6nsOAE",ve="xgDMte0A",je=s.p+"016db192cc6f042f5e75.svg",ge=s.p+"4aa40453b601cd835a2e.svg";var Ne=s(490),ye=s.n(Ne);const be=({isOpen:e,setIsOpen:t})=>e?((0,a.useEffect)((()=>(document.body.style.overflow=e?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[e]),ye().createPortal((0,n.jsx)("div",{className:"_Y6FYS3O",onClick:e=>{t(!1)},children:(0,n.jsx)("div",{className:"JJV7j7Vp",onClick:e=>e.stopPropagation(),children:(0,n.jsx)(X,{})})}),document.getElementById("modal-root"))):null,Se="wckDk1gO",we=({setOpenStatus:e})=>(0,n.jsxs)("div",{className:"K5gyWF4D",onClick:t=>{e(!1)},children:[(0,n.jsx)("span",{className:Se}),(0,n.jsx)("span",{className:Se})]}),Ce=({children:e,onClick:t})=>(0,n.jsx)("button",{className:"HrRv8mXu",onClick:t,children:e}),ke=({productName:e,initialQuantity:t=1})=>{const s=ce().find((t=>t.name===e)),a=s?s.quantity:t;return(0,n.jsxs)("div",{className:"chHYbYCM",children:[(0,n.jsx)(Ce,{onClick:()=>{a>1&&re(e,a-1)},children:" - "}),(0,n.jsx)("span",{className:"FbC0SZ5Q",children:a}),(0,n.jsx)(Ce,{onClick:()=>{re(e,a+1)},children:" + "})]})},Ee=s.p+"99996a2ab1c3c50a7939.svg",_e=({onClick:e,setSummaryRenderEvent:t})=>(0,n.jsxs)("div",{className:"QSXMLYMU",onClick:()=>{null==e||e(),null==t||t(Math.floor(3*Math.random()))},children:[(0,n.jsx)("img",{src:Ee,alt:"Trash",className:"YtJz2uaw"}),(0,n.jsx)("span",{className:"Z0dVimgu"})]}),Ae=({data:e})=>(0,n.jsxs)("div",{className:"uddBK3b5",children:[(0,n.jsx)("div",{className:"dF6wzuvb",children:(0,n.jsx)("img",{src:e.image,className:"b1rjQNVN",alt:e.name})}),(0,n.jsx)("h3",{className:"bhDvEIgF",children:e.name}),(0,n.jsxs)("div",{className:"vGEExCBS",children:[(0,n.jsx)(ke,{productName:e.name,initialQuantity:e.quantity}),(0,n.jsxs)("div",{className:"eZZGtueS",children:[(0,n.jsx)(U,{discountT:e.discount,priceT:e.price,direction:"column-reverse"}),(0,n.jsx)(_e,{onClick:()=>{var t;t=e.name,te=te.filter((e=>e.name!==t)),ae()}})]})]})]}),Te=()=>{const[e,t]=(0,a.useState)(ce());return(0,a.useEffect)((()=>{const e=ne((()=>{t(ce())}));return()=>e()}),[]),(0,n.jsx)("div",{className:"j6M3BtEI",children:e.map((e=>(0,n.jsx)(Ae,{data:e},e.name)))})},Pe=({type:e,placeholder:t,label:s,min:a,max:r,id:c,required:i,onInput:l})=>{const o={type:e,className:"mJ7TjZ0Y",id:c,placeholder:t,min:a,max:r,required:i};return"password"===e&&(o.minLength=8,o.title="Пароль повинен містити щонайменше 8 символів"),"email"===e&&(o.pattern="[a-zA-Z0-9._%+\\-]+@[a-zA-Z0-9.\\-]+\\.[a-zA-Z]{2,}"),(0,n.jsxs)("div",{className:"Sgj9lMxY",children:[(0,n.jsx)("label",{className:"LbkLIEaX",htmlFor:c,children:s}),(0,n.jsx)("input",Object.assign({},o,{onInput:e=>{l(e.currentTarget.value)}}))]})},Oe=({label:e,optionBasic:t="",options:s,value:a,onChange:r,disabled:c=!1})=>(0,n.jsxs)("div",{className:"_2VIaQor",children:[(0,n.jsx)("label",{children:e}),(0,n.jsxs)("select",{value:a,onChange:e=>r(e.target.value),disabled:c,children:[(0,n.jsx)("option",{value:"",children:t}),s.map(((e,t)=>(0,n.jsx)("option",{value:e,children:e},t)))]})]}),Ie={orderForm:"Y32X7t7V",form:"vz21SWHL",section:"EXPi2_cS",gridTwoCols:"QGA_wUG3",gridSingle:"HURaeMwy",couponButton:"bAZV4W9J",couponField:"xG92v8u_",slideDown:"gUTGhnAs"};var Le=s(756),Me=function(e,t,s,n){return new(s||(s=Promise))((function(a,r){function c(e){try{l(n.next(e))}catch(e){r(e)}}function i(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(c,i)}l((n=n.apply(e,t||[])).next())}))};const Ve=new class{sendRequest(e,t){return Me(this,arguments,void 0,(function*(e,t,s={}){try{const n=yield Le.A.post("https://api.novaposhta.ua/v2.0/json/",{apiKey:"7f82d5b07b5b8272d3630cccc7af95a6",modelName:e,calledMethod:t,methodProperties:s});return n.data.success?n.data.data:(console.error("Nova Poshta API error:",n.data.errors),[])}catch(e){return console.error("Error fetching data from Nova Poshta:",e),[]}}))}getAreas(){return Me(this,void 0,void 0,(function*(){return this.sendRequest("Address","getAreas")}))}getCities(e){return Me(this,void 0,void 0,(function*(){return this.sendRequest("Address","getCities",{AreaRef:e||""})}))}getWarehouses(e){return Me(this,void 0,void 0,(function*(){return this.sendRequest("AddressGeneral","getWarehouses",{CityRef:e})}))}getAreaNames(){return Me(this,void 0,void 0,(function*(){return(yield this.getAreas()).map((e=>({ref:e.Ref,name:e.Description})))}))}getCityNames(e){return Me(this,void 0,void 0,(function*(){return(yield this.getCities(e)).map((e=>({ref:e.Ref,name:e.Description})))}))}getWarehouseNames(e){return Me(this,void 0,void 0,(function*(){return(yield this.getWarehouses(e)).map((e=>({ref:e.Ref,name:`${e.Description} (№${e.Number})`})))}))}};var Fe=function(e,t,s,n){return new(s||(s=Promise))((function(a,r){function c(e){try{l(n.next(e))}catch(e){r(e)}}function i(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(c,i)}l((n=n.apply(e,t||[])).next())}))};const Re=()=>{const[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)([]),[c,i]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[d,u]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[x,f]=(0,a.useState)(""),[p,v]=(0,a.useState)(""),[j,g]=(0,a.useState)(""),[N,y]=(0,a.useState)(""),[b,S]=(0,a.useState)(""),[w,C]=(0,a.useState)(ce()),[k,E]=(0,a.useState)(!1),[_,A]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{Fe(void 0,void 0,void 0,(function*(){A(!0);try{const e=yield Ve.getAreaNames();r(e)}catch(e){console.error("Помилка при завантаженні областей:",e)}finally{A(!1)}}))}),[]),(0,a.useEffect)((()=>{if(!m)return i([]),f(""),void v("");Fe(void 0,void 0,void 0,(function*(){A(!0);try{const e=yield Ve.getCityNames(m);i(e)}catch(e){console.error("Помилка при завантаженні міст:",e)}finally{A(!1)}}))}),[m]),(0,a.useEffect)((()=>{if(!p)return o([]),g(""),void y("");Fe(void 0,void 0,void 0,(function*(){A(!0);try{const e=yield Ve.getWarehouseNames(p);o(e)}catch(e){console.error("Помилка при завантаженні відділень:",e)}finally{A(!1)}}))}),[p]),(0,a.useEffect)((()=>{const e=w.length>0;E(e);const t=ce();C(t)}),[w,w]),k?(0,n.jsxs)("div",{className:Ie.orderForm,children:[(0,n.jsx)("h2",{children:"Оформлення замовлення"}),_&&(0,n.jsx)("div",{className:Ie.loader,children:"Завантаження даних..."}),(0,n.jsxs)("form",{className:Ie.form,children:[(0,n.jsx)("section",{className:Ie.section,children:(0,n.jsxs)("div",{className:Ie.gridTwoCols,children:[(0,n.jsx)(Pe,{type:"text",id:"firstName",placeholder:"Іван",label:"Ім'я"}),(0,n.jsx)(Pe,{type:"text",id:"lastName",placeholder:"Іванов",label:"Прізвище"}),(0,n.jsx)(Pe,{type:"tel",id:"phone",placeholder:"+380 ХХХ ХХХХ",label:"Номер телефону"}),(0,n.jsx)(Pe,{type:"email",id:"email",placeholder:"name@gmail.com",label:"Email"})]})}),(0,n.jsx)("section",{className:Ie.section,children:(0,n.jsxs)("div",{className:Ie.gridTwoCols,children:[(0,n.jsx)(Oe,{options:s.map((e=>e.name)),label:"Область",optionBasic:"Оберіть область",value:d,onChange:e=>{const t=s.find((t=>t.name===e));u(e),h((null==t?void 0:t.ref)||""),f(""),v(""),g(""),y("")},disabled:_}),(0,n.jsx)(Oe,{options:c.map((e=>e.name)),label:"Місто доставки",optionBasic:"Оберіть місто",value:x,disabled:!d||_,onChange:e=>{const t=c.find((t=>t.name===e));f(e),v((null==t?void 0:t.ref)||""),g(""),y("")}}),(0,n.jsx)(Oe,{options:l.map((e=>e.name)),label:"Відділення",optionBasic:"Оберіть відділення",value:j,onChange:e=>{const t=l.find((t=>t.name===e));g(e),y((null==t?void 0:t.ref)||"")},disabled:!x||_})]})}),(0,n.jsxs)("section",{className:Ie.section,children:[(0,n.jsx)("div",{className:Ie.gridSingle,children:(0,n.jsx)(Oe,{options:["Нова пошта","Кур'єр","Самовивіз"],label:"Спосіб доставки",optionBasic:"Спосіб доставки",value:b,onChange:S,disabled:!j||_})}),e?(0,n.jsx)("div",{className:Ie.gridSingle,children:(0,n.jsx)(Pe,{type:"text",id:"coupon",placeholder:"PROMO2024",label:"Купон"})}):(0,n.jsx)("button",{type:"button",onClick:()=>t(!0),className:Ie.couponButton,children:"Ввести купон"})]})]})]}):null},De=()=>{const[e,t]=(0,a.useState)(ie());(0,a.useEffect)((()=>{const e=ne((()=>{t(ie())}));return()=>e()}),[]);const s=e.toFixed(2);return(0,n.jsxs)("div",{className:"V7IoCSi3",children:[(0,n.jsxs)("div",{className:"tpaiivmC",children:[(0,n.jsx)("div",{className:"ESlL9I7w",children:(0,n.jsx)("h3",{children:"Сума:"})}),(0,n.jsx)("div",{className:"OASJPa0f",children:(0,n.jsxs)("span",{className:"ddYSTQuU",children:["$",s]})})]}),(0,n.jsx)("div",{children:(0,n.jsx)(L,{text:"Замовити"})})]})},We=s.p+"154bbf3e1e2e2e27082b.png",Be=()=>(0,n.jsxs)("div",{className:"QBZFnfNn",children:[(0,n.jsx)("img",{src:We,alt:"iconBasket"}),(0,n.jsx)("div",{className:"b9VJHBXr",children:"Тут поки нічого немає :("})]}),Ze=({setBasketOpenStatus:e,basketOpenStatus:t})=>{const[s,r]=(0,a.useState)(ce());(0,a.useEffect)((()=>{document.body.style.overflow="hidden";const e=ne((()=>{r(ce())}));return r(ce()),()=>{document.body.style.overflow="",e()}}),[]);const c=s.length>0;return ye().createPortal((0,n.jsx)("div",{className:"XJIP6ZmP",onClick:()=>e(!1),children:c?(0,n.jsxs)("div",{className:"LjHiMHLR",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)(we,{setOpenStatus:e}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Te,{}),(0,n.jsx)(Re,{}),(0,n.jsx)(De,{})]})]}):(0,n.jsxs)("div",{className:"uefU4Lex",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)(we,{setOpenStatus:e}),(0,n.jsx)(Be,{})]})}),document.getElementById("modal-root"))},ze=({setIsOpen:e})=>{const[t,s]=(0,a.useState)(!1),[r,c]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{document.body.style.overflow=t?"hidden":"auto"}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"P7Pbarnk",children:[(0,n.jsxs)("div",{className:pe,onClick:e=>{s(!t)},children:[(0,n.jsx)("img",{className:ve,src:je,alt:"Кошик"}),(0,n.jsx)("p",{children:"Кошик"})]}),(0,n.jsxs)("div",{className:pe,onClick:e=>{c(!r)},children:[(0,n.jsx)("img",{className:ve,src:ge,alt:"Фільтр"}),(0,n.jsx)("p",{children:"Фільтер"})]})]}),r&&(0,n.jsx)(be,{isOpen:r,setIsOpen:c}),t&&(0,n.jsx)(Ze,{setBasketOpenStatus:s,basketOpenStatus:t})]})},Ye=()=>{const[e,t]=(0,a.useState)(!1);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"XL0Ac8tC",children:(0,n.jsxs)("nav",{className:"gKwsS8ok",children:[(0,n.jsx)(he,{}),(0,n.jsx)(fe,{}),(0,n.jsx)(ze,{setIsOpen:t})]})})})},qe=()=>(0,n.jsxs)("div",{className:"wrapper",children:[(0,n.jsx)(Ye,{}),(0,n.jsx)(j,{}),(0,n.jsx)(N,{}),(0,n.jsx)(ue,{})]})},594:(e,t,s)=>{s.d(t,{F:()=>n});const n="fashion"},760:(e,t,s)=>{s.d(t,{D:()=>n});const n=(0,s(390).lazy)((()=>s.e(488).then(s.bind(s,488))))}}]);
//# sourceMappingURL=31.61af87891b33891b6195.js.map